

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>notifier.access – Simplified RPC Sending &mdash; notifier v1.0 documentation</title>
    <link rel="stylesheet" href="../static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="notifier v1.0 documentation" href="../index.html" />
    <link rel="next" title="notifier.service – Simplified Service Creation" href="service.html" />
    <link rel="prev" title="notifier.publish – The Non-Coroutine Half Notifier" href="publish.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <h1><a href="../index.html">notifier v1.0 documentation</a></h1>
        <div class="rel">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a> |
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="service.html" title="notifier.service – Simplified Service Creation"
             accesskey="N">next</a> |
          <a href="publish.html" title="notifier.publish – The Non-Coroutine Half Notifier"
             accesskey="P">previous</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-notifier.access">
<span id="notifier-access-simplified-rpc-sending"></span><h1><a class="reference internal" href="#module-notifier.access"><tt class="xref py py-mod docutils literal"><span class="pre">notifier.access</span></tt></a> &#8211; Simplified RPC Sending<a class="headerlink" href="#module-notifier.access" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="notifier.access.execute">
<tt class="descclassname">notifier.access.</tt><tt class="descname">execute</tt><big>(</big><em>object</em>, <em>notifier</em>, <em>cmd</em>, <em>ids</em>, <em>args=()</em>, <em>kwargs={}</em>, <em>timeout=None</em>, <em>retry=None</em><big>)</big><a class="headerlink" href="#notifier.access.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an RPC request via <tt class="docutils literal"><span class="pre">notifier</span></tt> using its synchronous API, wrapping up
args and kwargs in a manner that is understood and by the system in
<a class="reference internal" href="service.html#module-notifier.service"><tt class="xref py py-mod docutils literal"><span class="pre">notifier.service</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>object</strong> (<em>str</em>) &#8211; the service name</li>
<li><strong>notifier</strong> &#8211; a notifier at least capable of sending rpcs &#8211; it should be a
<a class="reference internal" href="coroutines.html#notifier.coroutines.Notifier" title="notifier.coroutines.Notifier"><tt class="xref py py-class docutils literal"><span class="pre">Notifier</span></tt></a> or a
<a class="reference internal" href="publish.html#notifier.publish.Publisher" title="notifier.publish.Publisher"><tt class="xref py py-class docutils literal"><span class="pre">Publisher</span></tt></a>, or it can also be a
<a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a> wrapping either real notifier.</li>
<li><strong>cmd</strong> (<em>str</em>) &#8211; the remote command to execute</li>
<li><strong>ids</strong> (<em>int or list of ints</em>) &#8211; the id(s) for finding the RPC destination(s)</li>
<li><strong>args</strong> (<em>tuple</em>) &#8211; arguments to send with the RPC &#8211; <a class="reference internal" href="service.html#module-notifier.service"><tt class="xref py py-mod docutils literal"><span class="pre">service</span></tt></a>
will use this in the handler function as <strong>*args</strong>.</li>
<li><strong>kwargs</strong> (<em>dict</em>) &#8211; keyword arguments to send with the RPC &#8211;
<a class="reference internal" href="service.html#module-notifier.service"><tt class="xref py py-mod docutils literal"><span class="pre">service</span></tt></a> will use this as <strong>**kwargs</strong>.</li>
<li><strong>timeout</strong> (<em>int</em>) &#8211; a maximum time to wait for the response (the default of None means
timeout)</li>
<li><strong>retry</strong> (<em>int</em>) &#8211; number of times to retry in the case of notifier-related errors</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the RPC call result, unless <tt class="docutils literal"><span class="pre">notifier</span></tt> is a <a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a>, in
which case it returns an integer sequence_id.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="notifier.access.random">
<tt class="descclassname">notifier.access.</tt><tt class="descname">random</tt><big>(</big><em>object</em>, <em>notifier</em>, <em>cmd</em>, <em>args=()</em>, <em>kwargs={}</em>, <em>timeout=None</em>, <em>retry=None</em><big>)</big><a class="headerlink" href="#notifier.access.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an <a class="reference internal" href="#notifier.access.execute" title="notifier.access.execute"><tt class="xref py py-func docutils literal"><span class="pre">execute()</span></tt></a> call using a random integer for <tt class="docutils literal"><span class="pre">ids</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>object</strong> (<em>str</em>) &#8211; the service name</li>
<li><strong>notifier</strong> &#8211; a notifier at least capable of sending rpcs &#8211; it should be a
<a class="reference internal" href="coroutines.html#notifier.coroutines.Notifier" title="notifier.coroutines.Notifier"><tt class="xref py py-class docutils literal"><span class="pre">Notifier</span></tt></a> or a
<a class="reference internal" href="publish.html#notifier.publish.Publisher" title="notifier.publish.Publisher"><tt class="xref py py-class docutils literal"><span class="pre">Publisher</span></tt></a>, or it can also be a
<a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a> wrapping either real notifier.</li>
<li><strong>cmd</strong> (<em>str</em>) &#8211; the remote command to execute</li>
<li><strong>args</strong> (<em>tuple</em>) &#8211; arguments to send with the RPC &#8211; <a class="reference internal" href="service.html#module-notifier.service"><tt class="xref py py-mod docutils literal"><span class="pre">service</span></tt></a>
will use this in the handler function as <strong>*args</strong>.</li>
<li><strong>kwargs</strong> (<em>dict</em>) &#8211; keyword arguments to send with the RPC &#8211;
<a class="reference internal" href="service.html#module-notifier.service"><tt class="xref py py-mod docutils literal"><span class="pre">service</span></tt></a> will use this as <strong>**kwargs</strong>.</li>
<li><strong>timeout</strong> (<em>int</em>) &#8211; a maximum time to wait for the response (the default of None means
timeout)</li>
<li><strong>retry</strong> (<em>int</em>) &#8211; number of times to retry in the case of notifier-related errors</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the RPC call result, unless <tt class="docutils literal"><span class="pre">notifier</span></tt> is a <a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a>, in
which case it returns an integer sequence_id.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="notifier.access.SplitAccess">
<em class="property">class </em><tt class="descclassname">notifier.access.</tt><tt class="descname">SplitAccess</tt><big>(</big><em>notifier</em><big>)</big><a class="headerlink" href="#notifier.access.SplitAccess" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a> constructor takes a single argument of a notifier
(be it a <a class="reference internal" href="coroutines.html#notifier.coroutines.Notifier" title="notifier.coroutines.Notifier"><tt class="xref py py-class docutils literal"><span class="pre">Notifier</span></tt></a> or a
<a class="reference internal" href="publish.html#notifier.publish.Publisher" title="notifier.publish.Publisher"><tt class="xref py py-class docutils literal"><span class="pre">Publisher</span></tt></a>), and then the instance can
itself be used in <a class="reference internal" href="#notifier.access.execute" title="notifier.access.execute"><tt class="xref py py-func docutils literal"><span class="pre">execute()</span></tt></a> or <a class="reference internal" href="#notifier.access.random" title="notifier.access.random"><tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt></a> as the <tt class="docutils literal"><span class="pre">notifier</span></tt>.</p>
<p>When a <a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a> is provided as the notifier to those functions,
then instead of returning the RPC call result, they will return an integer
known as a sequence id. These sequence ids can be passed back in to the
<a class="reference internal" href="#notifier.access.SplitAccess.complete" title="notifier.access.SplitAccess.complete"><tt class="xref py py-meth docutils literal"><span class="pre">complete()</span></tt></a> and <a class="reference internal" href="#notifier.access.SplitAccess.any" title="notifier.access.SplitAccess.any"><tt class="xref py py-meth docutils literal"><span class="pre">any()</span></tt></a> methods to resolve them to RPC results.</p>
<dl class="method">
<dt id="notifier.access.SplitAccess.complete">
<tt class="descname">complete</tt><big>(</big><em>seq_list</em><big>)</big><a class="headerlink" href="#notifier.access.SplitAccess.complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Block waiting until all the RPCs corresponding to the sequence ids in
<tt class="docutils literal"><span class="pre">seq_list</span></tt> have returned, then return those results in a list
matching the order of <tt class="docutils literal"><span class="pre">seq_list</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seq_list</strong> (<em>list of ints</em>) &#8211; a list of integer sequence ids that were returned from
<a class="reference internal" href="#notifier.access.execute" title="notifier.access.execute"><tt class="xref py py-func docutils literal"><span class="pre">execute()</span></tt></a> or <a class="reference internal" href="#notifier.access.random" title="notifier.access.random"><tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt></a> calls made with this
<a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a> instance.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the RPC result</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="notifier.access.SplitAccess.any">
<tt class="descname">any</tt><big>(</big><em>seq_list</em><big>)</big><a class="headerlink" href="#notifier.access.SplitAccess.any" title="Permalink to this definition">¶</a></dt>
<dd><p>Block waiting until at least one of the RPCs corresponding to the
sequence ids in <tt class="docutils literal"><span class="pre">seq_list</span></tt> has returned, then return a tuple of the
sequence id and the RPC call result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seq_list</strong> (<em>list of ints</em>) &#8211; a list of integer sequence ids that were returned from
<a class="reference internal" href="#notifier.access.execute" title="notifier.access.execute"><tt class="xref py py-func docutils literal"><span class="pre">execute()</span></tt></a> or <a class="reference internal" href="#notifier.access.random" title="notifier.access.random"><tt class="xref py py-func docutils literal"><span class="pre">random()</span></tt></a> calls made with this
<a class="reference internal" href="#notifier.access.SplitAccess" title="notifier.access.SplitAccess"><tt class="xref py py-class docutils literal"><span class="pre">SplitAccess</span></tt></a> instance.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a (seq, rpc_result) tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="coroutines.html"><tt class="docutils literal"><span class="pre">notifier.coroutines</span></tt> &#8211; The Coroutine Notifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="publish.html"><tt class="docutils literal"><span class="pre">notifier.publish</span></tt> &#8211; The Non-Coroutine Half Notifier</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href=""><tt class="docutils literal"><span class="pre">notifier.access</span></tt> &#8211; Simplified RPC Sending</a></li>
<li class="toctree-l1"><a class="reference internal" href="service.html"><tt class="docutils literal"><span class="pre">notifier.service</span></tt> &#8211; Simplified Service Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="decorators.html"><tt class="docutils literal"><span class="pre">notifier.decorators</span></tt> &#8211; Service Decorators</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../search.html" method="get">
            <input type="text" name="q" size="18" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="../genindex.html" title="General Index"
             >index</a> |
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="service.html" title="notifier.service – Simplified Service Creation"
             >next</a> |
          <a href="publish.html" title="notifier.publish – The Non-Coroutine Half Notifier"
             >previous</a>
            <br/>
            <a href="../sources/notifier/access.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2010, Slide Inc.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>